#### Dataset
For each dataset file, we provided the question-answering data (train and test, e.g. Prime_train_QA_with_topic_entity.json and Prime_test_QA_with_topic_entity.json in [Prime data](https://github.com/J-Huang01/llm_graph_benchmark_medical/tree/main/Dataset/prime) )
and  **.KG.txt, such as [ADint_KG.txt](https://github.com/J-Huang01/llm_graph_benchmark_medical/blob/main/Dataset/Adint/ADint_KG.txt)
The data structure of ADint_KG.txt,

```
e.g.
137690    1    34589
1         3    144772
...
```
each  line refers to a triple (head entity id (e.g.137690), relation id(e.g.1), tail entity id(e.g.34589)), To obtain the surface name or a detailed description of an entity or relation, check edge_type_dict.pkl and node_info.pkl in [node_edge info](https://drive.google.com/drive/folders/1ur4ndtiF8GQpPO3-7ZMhG8gMKzv-wDdM?usp=drive_link). For example:
Data format in the [prime folder](https://drive.google.com/drive/folders/1nRBH90nXU0gJVjkVgf7auk8stUf86DZH):


**edge_type_dict.pkl**
{0: 'ppi', 1: 'carrier', 2: 'enzyme', 3: 'target', 4: 'transporter', 5: 'contraindication', 6: 'indication', 7: 'off-label use', 8: 'synergistic interaction', 9: 'associated with', 10: 'parent-child', 11: 'phenotype absent', 12: 'phenotype present', 13: 'side effect', 14: 'interacts with', 15: 'linked to', 16: 'expression present', 17: 'expression absent'}

**node_info.pkl**
{0: {'details': {'\_id': '9796',
'\_score': 17.934021,
'alias': ['DYRK1AP3', 'PAHX-AP', 'PAHXAP1'],
'genomic_pos': {'chr': '8',
'end': 22232101,
'ensemblgene': 'ENSG00000168490',
'start': 22219703,
'strand': -1},
'name': 'phytanoyl-CoA 2-hydroxylase interacting protein',
'query': 'PHYHIP',
'summary': 'Enables protein tyrosine kinase binding activity. '
'Involved in protein localization. Located in '
'cytoplasm. [provided by Alliance of Genome '
'Resources, Apr 2022]'},
'id': 9796,
'name': 'PHYHIP',
'source': 'NCBI',
'type': 'gene/protein'}}

**node_type_dict.pkl**
{0: 'disease', 1: 'gene/protein', 2: 'molecular_function', 3: 'drug', 4: 'pathway', 5: 'anatomy', 6: 'effect/phenotype', 7: 'biological_process', 8: 'cellular_component', 9: 'exposure'}

#### Evualtion

step1: (**Please modify the code to produce the final format shown below. The ground truth file [0_make_standard_output_for_ground.py ](https://github.com/J-Huang01/llm_graph_benchmark_medical/blob/main/3_Evaluation/0_make_standard_output_for_ground.py) and the generated file [1_make_standard_output_for_cot.py](https://github.com/J-Huang01/llm_graph_benchmark_medical/blob/main/3_Evaluation/1_make_standard_output_for_cot.py) should share the same format**.)

```

{"id": "0", "answers": ["fosl1"]}
{"id": "1", "answers": ["thalidomide"]}
{"id": "2", "answers": ["magnesium sulfate"]}
{"id": "3", "answers": ["finasteride"]}
{"id": "4", "answers": ["fever"]}
{"id": "5", "answers": ["heart defects congenital"]}
{"id": "6", "answers": ["il1b"]}
{"id": "7", "answers": ["bcl2"]}
```

step2:
input the generated file to the  evaluation file by modifying the line 154  and line 160 at [evualtion_file](https://github.com/J-Huang01/llm_graph_benchmark_medical/blob/main/3_Evaluation/2_evaluation_of_three_evualtion.py) :

```
def main():
    import argparse

    parser = argparse.ArgumentParser(description='Evaluate OpenPI predictions.')

    parser.add_argument(
        '--gold-file', '-g',
        default="----ground.jsonl",
        help='Filename with gold answers',
        required=False)

    parser.add_argument(
        '--prediction-file', '-p',
        default="---prediction.jsonl", #  the file you used was generated by the LLM.
        help='Filename with predictions',
        required=False)

    """

```

